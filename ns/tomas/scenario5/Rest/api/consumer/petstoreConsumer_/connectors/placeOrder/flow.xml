<?xml version="1.0" encoding="UTF-8"?>

<FLOW VERSION="3.1" CLEANUP="true">

  <!-- nodes -->

<SEQUENCE EXIT-ON="FAILURE">

  <!-- nodes -->

<INVOKE SERVICE="pub.client:restClient">

  <!-- nodes -->

<MAP MODE="INPUT">

  <!-- nodes -->

<MAPSET OVERWRITE="true" VARIABLES="true" GLOBALVARIABLES="false" FIELD="/basePath;1;0">
  <DATA ENCODING="XMLValues" I18N="true">

<Values version="2.0">
  <value name="xml">/v2</value>
</Values>
</DATA>
</MAPSET>

<MAPSET OVERWRITE="true" VARIABLES="true" GLOBALVARIABLES="false" FIELD="/path;1;0">
  <DATA ENCODING="XMLValues" I18N="true">

<Values version="2.0">
  <value name="xml">/store/order</value>
</Values>
</DATA>
</MAPSET>

<MAPSET OVERWRITE="true" VARIABLES="true" GLOBALVARIABLES="false" FIELD="/httpMethod;1;0">
  <DATA ENCODING="XMLValues" I18N="true">

<Values version="2.0">
  <value name="xml">POST</value>
</Values>
</DATA>
</MAPSET>

<MAPSET OVERWRITE="false" VARIABLES="true" GLOBALVARIABLES="false" FIELD="/host;1;0">
  <DATA ENCODING="XMLValues" I18N="true">

<Values version="2.0">
  <value name="xml">petstore.swagger.io</value>
</Values>
</DATA>
</MAPSET>

<MAPSET OVERWRITE="false" VARIABLES="true" GLOBALVARIABLES="false" FIELD="/consumes;1;0">
  <DATA ENCODING="XMLValues" I18N="true">

<Values version="2.0">
  <value name="xml">application/json</value>
</Values>
</DATA>
</MAPSET>

<MAPSET OVERWRITE="false" VARIABLES="true" GLOBALVARIABLES="false" FIELD="/produces;1;0">
  <DATA ENCODING="XMLValues" I18N="true">

<Values version="2.0">
  <value name="xml">application/json</value>
</Values>
</DATA>
</MAPSET>

<MAPSET OVERWRITE="false" VARIABLES="true" GLOBALVARIABLES="false" FIELD="/scheme;1;0">
  <DATA ENCODING="XMLValues" I18N="true">

<Values version="2.0">
  <value name="xml">https</value>
</Values>
</DATA>
</MAPSET>

<MAPCOPY FROM="/body;4;0;tomas.scenario5.Rest.api.consumer.petstoreConsumer_.docTypes:Order" TO="/body;2;0">
</MAPCOPY>

<MAPSET OVERWRITE="false" VARIABLES="true" GLOBALVARIABLES="false" FIELD="/radName;1;0">
  <DATA ENCODING="XMLValues" I18N="true">

<Values version="2.0">
  <value name="xml">tomas.scenario5.Rest.api.consumer:petstoreConsumer</value>
</Values>
</DATA>
</MAPSET>
</MAP>

<MAP MODE="OUTPUT">
</MAP>
</INVOKE>

<BRANCH SWITCH="/code">

  <!-- nodes -->

<SEQUENCE NAME="200" EXIT-ON="FAILURE">

  <!-- nodes -->

<MAP MODE="STANDALONE">

  <!-- nodes -->

<MAPCOPY FROM="/response;3;0" TO="/200;2;0/Order;4;0;tomas.scenario5.Rest.api.consumer.petstoreConsumer_.docTypes:Order">
</MAPCOPY>

<MAPCOPY FROM="/headers;2;0" TO="/200;2;0/headers;2;0">
</MAPCOPY>
</MAP>

<INVOKE SERVICE="pub.flow:clearPipeline">

  <!-- nodes -->

<MAP MODE="INPUT">

  <!-- nodes -->

<MAPSET OVERWRITE="true" VARIABLES="true" GLOBALVARIABLES="false" FIELD="/preserve;1;1">
  <DATA ENCODING="XMLValues" I18N="true">

<Values version="2.0">
  <array name="xml" type="value" depth="1">
    <value>code</value>
    <value>phrase</value>
    <value>200</value>
  </array>
</Values>
</DATA>
</MAPSET>
</MAP>
</INVOKE>
</SEQUENCE>

<SEQUENCE NAME="$default" EXIT-ON="FAILURE">

  <!-- nodes -->

<INVOKE SERVICE="pub.flow:clearPipeline">

  <!-- nodes -->

<MAP MODE="INPUT">

  <!-- nodes -->

<MAPSET OVERWRITE="true" VARIABLES="true" GLOBALVARIABLES="false" FIELD="/preserve;1;1">
  <DATA ENCODING="XMLValues" I18N="true">

<Values version="2.0">
  <array name="xml" type="value" depth="1">
    <value>code</value>
    <value>phrase</value>
  </array>
</Values>
</DATA>
</MAPSET>
</MAP>
</INVOKE>
</SEQUENCE>
</BRANCH>
</SEQUENCE>
</FLOW>
